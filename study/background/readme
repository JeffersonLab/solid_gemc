= EM background =

the code shoot beam into target and count the particles on various detectors.
physcis is handled by geant4 depending the chosen physicslist.
Dominant channel generally is EM which mean electrons and photons. neutrons can be obtained if particular neutron physicslist is used.

here is an example how to run it.

run "gemc background_solid_SIDIS_He3_EM"
this shoots beam into target and output detector hits in evio format

= other background =

use eicRate to generate eDIS,pip,pim,pi0,eES,Kp,Km,Ks,Kl,p in root and lund format. 

The "rate" is stored in the "var8" in the header (last number in the first line of each event, and in the "header" tree in the GEMC2 root file).

use the lund format as input to gemc to see how particles travels through air and hit on detectors
edit "*.gcard" with the right input file and run it to produce hits in SoLID with evio output

= produce histograms = 

run "evio2root -INPUTF=background_solid_CLEO_SIDIS_He3_5e7.evio"
this converts evio to root format

Compile dependance lib
1. compile EC response function
cd response
root 
.L FastResponse.C+
2. compile Non Ionizing Energy Loss in Silicon (NIEL)
cd niel
root
.L niel_fun.cc+

background.C take about 12G memery to run because it creates a lot histograms, you can run it on ifarm which has enough memmory for now

you have to run it in the background dir so it can find dependance lib, but you can give the full path of input file, the output file will be created where input file is
for example
root -b -q 'background.C+("SIDIS_He3/background_solid_CLEO_SIDIS_He3_EM_1e8.root")'

this plot histograms showing hits and store them in
"SIDIS_He3/background_solid_CLEO_SIDIS_He3_EM_1e8_output.root"

= anslysis results = 

using the resulting root file from background.C as input which is hard coded in the scripts

Edep.C    calculate energy deposited in EC
trigger_EC_PVDIS.C("high") or trigger_EC_PVDIS.C("low") calculate EC trigger rate for PVDIS
trigger_EC_SIDIS.C("SIDIS_FA") or trigger_EC_SIDIS.C("SIDIS_LA")   calculate EC electron trigger rate for SIDIS
trigger_EC_SIDIS_MIP.C("SIDIS_FA")   calculate EC MIP trigger rate for SIDIS

=======================
2012 created by Zhiwen Zhao
2014/06 edit by Zhiwen Zhao
2014/09 edit by Zhihong Ye to read GEMC v2.0 format
