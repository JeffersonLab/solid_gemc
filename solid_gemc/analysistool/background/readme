= EM background =

the code shoot beam into target and count the particles on various detectors.
physcis is handled by geant4 depending the chosen physicslist.
Dominant channel generally is EM which mean electrons and photons. neutrons can be obtained if particular neutron physicslist is used.

here is an example how to run it.

run "run_solid_CLEO_SIDIS_He3"
this shoots beam into target and output detector hits in evio format

= other background =

use eicRate to generate eDIS,pip,pim,pi0,eES,Kp,Km,Ks,Kl,p in root and lund format. 

use the root file to obtain the "rate" later in background.C because GEMC is not propagting it into output stream yet.

use the lund format as input to gemc to see how particles travels through air and hit on detectors
edit "run_solid_CLEO_SIDIS_He3_other" with right input file and run it to produce hits in SoLID with evio output

= produce histograms = 

run "gemc_evio2root background_solid_CLEO_SIDIS_He3_5e7.evio background_solid_CLEO_SIDIS_He3_5e7.root"
this converts evio to root format

run 'root -b -q root2hit.C("background_solid_CLEO_SIDIS_He3_5e7.root")'
this converts hits in flux bank into a txt file.

<compile EC response function>
cd solid/CaloSimShashlik/response
root 
.L FastResponse.C+
<Then copy them over>
cp * solid/solid_gemc/analysistool/background/

******* niel not working for now as 2013/09/04******
compile packacge niel to have niel_fun_lib.so

in root, run 
.L ../niel/niel_fun_lib.so
****************************************************

background.C take about 12G memery to run because it creates a lot histograms, you can run it on ifarm which has enough memmory for now.

root -b -q 'background.C+("background_solid_CLEO_SIDIS_He3_5e7.txt",5e7)'
or 
root -b -q 'background.C+("background_solid_CLEO_SIDIS_He3_other_pip_1e6.txt",1e6)'

this plot histograms showing hits and store them in background_solid_CLEO_SIDIS_He3_5e7_output.root or background_solid_CLEO_SIDIS_He3_other_pip_1e6_output.root

= anslysis results = 

using the resulting root file from background.C

Edep.C    calculate energy deposited in EC
trigger_EC_PVDIS.C   calculate EC trigger rate for PVDIS
trigger_EC_SIDIS.C   calculate EC electron trigger rate for SIDIS
trigger_EC_SIDIS_MIP.C   calculate EC MIP trigger rate for SIDIS

=======================
2012 created by Zhiwen Zhao
2014/06 edit by Zhiwen Zhao