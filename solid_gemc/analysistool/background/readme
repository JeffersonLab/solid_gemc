= EM background =

the code shoot beam into target and count the particles on various detectors.
physcis is handled by geant4 depending the chosen physicslist.
Dominant channel generally is EM which mean electrons and photons. neutrons can be obtained if particular neutron physicslist is used.

here is an example how to run it.

run "run_solid_CLEO_SIDIS_3he"
this shoots beam into target and output detector hits in evio format

= other background =

use eicRate to generate eDIS,pip,pim,pi0,eES,Kp,Km,Ks,Kl,p in root and lund format. 

use the root file to obtain the "rate" later in background.C because GEMC is not propagting it into output stream yet.

use the lund format as input to gemc to see how particles travels through air and hit on detectors
edit "run_solid_CLEO_SIDIS_3he_other" with write input file and run it to produce hits in SoLID with evio output

= background.C=

run "gemc_evio2root background_solid_CLEO_SIDIS_3he_5e7.evio background_solid_CLEO_SIDIS_3he_5e7.root"
this converts evio to root format

in root, run ".x root2hit.C("background_solid_CLEO_SIDIS_3he_5e7.root")"
this converts hits in flux bank into a txt file to reduce file size.

at this step, don't use a root version compiled by GEMC installation method which has a lot things disabled not working with this script
use root from /apps/root on CUE or compile one from source yourself

******* niel not working for now as 2013/09/04******
compile packacge niel to have niel_fun_lib.so

in root, run 
.L ../niel/niel_fun_lib.so
****************************************************

.L background.C+
background("background_solid_CLEO_SIDIS_3he_5e7.txt",5e7)
or 
background("background_solid_CLEO_SIDIS_3he_other_pip_1e6.txt",1e6)


this plot histograms showing hits and store them in background_solid_CLEO_SIDIS_3he_5e7_output.root or background_solid_CLEO_SIDIS_3he_other_pip_1e6_output.root


2012 by Zhiwen Zhao